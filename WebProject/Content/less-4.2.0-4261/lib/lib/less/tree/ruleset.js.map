{"version":3,"file":"ruleset.js","sourceRoot":"","sources":["../../../less/tree/ruleset.js"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar node_1 = tslib_1.__importDefault(require(\"./node\"));\r\nvar declaration_1 = tslib_1.__importDefault(require(\"./declaration\"));\r\nvar keyword_1 = tslib_1.__importDefault(require(\"./keyword\"));\r\nvar comment_1 = tslib_1.__importDefault(require(\"./comment\"));\r\nvar paren_1 = tslib_1.__importDefault(require(\"./paren\"));\r\nvar selector_1 = tslib_1.__importDefault(require(\"./selector\"));\r\nvar element_1 = tslib_1.__importDefault(require(\"./element\"));\r\nvar anonymous_1 = tslib_1.__importDefault(require(\"./anonymous\"));\r\nvar contexts_1 = tslib_1.__importDefault(require(\"../contexts\"));\r\nvar function_registry_1 = tslib_1.__importDefault(require(\"../functions/function-registry\"));\r\nvar default_1 = tslib_1.__importDefault(require(\"../functions/default\"));\r\nvar debug_info_1 = tslib_1.__importDefault(require(\"./debug-info\"));\r\nvar utils = tslib_1.__importStar(require(\"../utils\"));\r\nvar parser_1 = tslib_1.__importDefault(require(\"../parser/parser\"));\r\nvar Ruleset = function (selectors, rules, strictImports, visibilityInfo) {\r\n    this.selectors = selectors;\r\n    this.rules = rules;\r\n    this._lookups = {};\r\n    this._variables = null;\r\n    this._properties = null;\r\n    this.strictImports = strictImports;\r\n    this.copyVisibilityInfo(visibilityInfo);\r\n    this.allowRoot = true;\r\n    this.setParent(this.selectors, this);\r\n    this.setParent(this.rules, this);\r\n};\r\nRuleset.prototype = Object.assign(new node_1.default(), {\r\n    type: 'Ruleset',\r\n    isRuleset: true,\r\n    isRulesetLike: function () { return true; },\r\n    accept: function (visitor) {\r\n        if (this.paths) {\r\n            this.paths = visitor.visitArray(this.paths, true);\r\n        }\r\n        else if (this.selectors) {\r\n            this.selectors = visitor.visitArray(this.selectors);\r\n        }\r\n        if (this.rules && this.rules.length) {\r\n            this.rules = visitor.visitArray(this.rules);\r\n        }\r\n    },\r\n    eval: function (context) {\r\n        var selectors;\r\n        var selCnt;\r\n        var selector;\r\n        var i;\r\n        var hasVariable;\r\n        var hasOnePassingSelector = false;\r\n        if (this.selectors && (selCnt = this.selectors.length)) {\r\n            selectors = new Array(selCnt);\r\n            default_1.default.error({\r\n                type: 'Syntax',\r\n                message: 'it is currently only allowed in parametric mixin guards,'\r\n            });\r\n            for (i = 0; i < selCnt; i++) {\r\n                selector = this.selectors[i].eval(context);\r\n                for (var j = 0; j < selector.elements.length; j++) {\r\n                    if (selector.elements[j].isVariable) {\r\n                        hasVariable = true;\r\n                        break;\r\n                    }\r\n                }\r\n                selectors[i] = selector;\r\n                if (selector.evaldCondition) {\r\n                    hasOnePassingSelector = true;\r\n                }\r\n            }\r\n            if (hasVariable) {\r\n                var toParseSelectors = new Array(selCnt);\r\n                for (i = 0; i < selCnt; i++) {\r\n                    selector = selectors[i];\r\n                    toParseSelectors[i] = selector.toCSS(context);\r\n                }\r\n                var startingIndex = selectors[0].getIndex();\r\n                var selectorFileInfo = selectors[0].fileInfo();\r\n                new parser_1.default(context, this.parse.importManager, selectorFileInfo, startingIndex).parseNode(toParseSelectors.join(','), ['selectors'], function (err, result) {\r\n                    if (result) {\r\n                        selectors = utils.flattenArray(result);\r\n                    }\r\n                });\r\n            }\r\n            default_1.default.reset();\r\n        }\r\n        else {\r\n            hasOnePassingSelector = true;\r\n        }\r\n        var rules = this.rules ? utils.copyArray(this.rules) : null;\r\n        var ruleset = new Ruleset(selectors, rules, this.strictImports, this.visibilityInfo());\r\n        var rule;\r\n        var subRule;\r\n        ruleset.originalRuleset = this;\r\n        ruleset.root = this.root;\r\n        ruleset.firstRoot = this.firstRoot;\r\n        ruleset.allowImports = this.allowImports;\r\n        if (this.debugInfo) {\r\n            ruleset.debugInfo = this.debugInfo;\r\n        }\r\n        if (!hasOnePassingSelector) {\r\n            rules.length = 0;\r\n        }\r\n        // inherit a function registry from the frames stack when possible;\r\n        // otherwise from the global registry\r\n        ruleset.functionRegistry = (function (frames) {\r\n            var i = 0;\r\n            var n = frames.length;\r\n            var found;\r\n            for (; i !== n; ++i) {\r\n                found = frames[i].functionRegistry;\r\n                if (found) {\r\n                    return found;\r\n                }\r\n            }\r\n            return function_registry_1.default;\r\n        }(context.frames)).inherit();\r\n        // push the current ruleset to the frames stack\r\n        var ctxFrames = context.frames;\r\n        ctxFrames.unshift(ruleset);\r\n        // currrent selectors\r\n        var ctxSelectors = context.selectors;\r\n        if (!ctxSelectors) {\r\n            context.selectors = ctxSelectors = [];\r\n        }\r\n        ctxSelectors.unshift(this.selectors);\r\n        // Evaluate imports\r\n        if (ruleset.root || ruleset.allowImports || !ruleset.strictImports) {\r\n            ruleset.evalImports(context);\r\n        }\r\n        // Store the frames around mixin definitions,\r\n        // so they can be evaluated like closures when the time comes.\r\n        var rsRules = ruleset.rules;\r\n        for (i = 0; (rule = rsRules[i]); i++) {\r\n            if (rule.evalFirst) {\r\n                rsRules[i] = rule.eval(context);\r\n            }\r\n        }\r\n        var mediaBlockCount = (context.mediaBlocks && context.mediaBlocks.length) || 0;\r\n        // Evaluate mixin calls.\r\n        for (i = 0; (rule = rsRules[i]); i++) {\r\n            if (rule.type === 'MixinCall') {\r\n                /* jshint loopfunc:true */\r\n                rules = rule.eval(context).filter(function (r) {\r\n                    if ((r instanceof declaration_1.default) && r.variable) {\r\n                        // do not pollute the scope if the variable is\r\n                        // already there. consider returning false here\r\n                        // but we need a way to \"return\" variable from mixins\r\n                        return !(ruleset.variable(r.name));\r\n                    }\r\n                    return true;\r\n                });\r\n                rsRules.splice.apply(rsRules, [i, 1].concat(rules));\r\n                i += rules.length - 1;\r\n                ruleset.resetCache();\r\n            }\r\n            else if (rule.type === 'VariableCall') {\r\n                /* jshint loopfunc:true */\r\n                rules = rule.eval(context).rules.filter(function (r) {\r\n                    if ((r instanceof declaration_1.default) && r.variable) {\r\n                        // do not pollute the scope at all\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n                rsRules.splice.apply(rsRules, [i, 1].concat(rules));\r\n                i += rules.length - 1;\r\n                ruleset.resetCache();\r\n            }\r\n        }\r\n        // Evaluate everything else\r\n        for (i = 0; (rule = rsRules[i]); i++) {\r\n            if (!rule.evalFirst) {\r\n                rsRules[i] = rule = rule.eval ? rule.eval(context) : rule;\r\n            }\r\n        }\r\n        // Evaluate everything else\r\n        for (i = 0; (rule = rsRules[i]); i++) {\r\n            // for rulesets, check if it is a css guard and can be removed\r\n            if (rule instanceof Ruleset && rule.selectors && rule.selectors.length === 1) {\r\n                // check if it can be folded in (e.g. & where)\r\n                if (rule.selectors[0] && rule.selectors[0].isJustParentSelector()) {\r\n                    rsRules.splice(i--, 1);\r\n                    for (var j = 0; (subRule = rule.rules[j]); j++) {\r\n                        if (subRule instanceof node_1.default) {\r\n                            subRule.copyVisibilityInfo(rule.visibilityInfo());\r\n                            if (!(subRule instanceof declaration_1.default) || !subRule.variable) {\r\n                                rsRules.splice(++i, 0, subRule);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Pop the stack\r\n        ctxFrames.shift();\r\n        ctxSelectors.shift();\r\n        if (context.mediaBlocks) {\r\n            for (i = mediaBlockCount; i < context.mediaBlocks.length; i++) {\r\n                context.mediaBlocks[i].bubbleSelectors(selectors);\r\n            }\r\n        }\r\n        return ruleset;\r\n    },\r\n    evalImports: function (context) {\r\n        var rules = this.rules;\r\n        var i;\r\n        var importRules;\r\n        if (!rules) {\r\n            return;\r\n        }\r\n        for (i = 0; i < rules.length; i++) {\r\n            if (rules[i].type === 'Import') {\r\n                importRules = rules[i].eval(context);\r\n                if (importRules && (importRules.length || importRules.length === 0)) {\r\n                    rules.splice.apply(rules, [i, 1].concat(importRules));\r\n                    i += importRules.length - 1;\r\n                }\r\n                else {\r\n                    rules.splice(i, 1, importRules);\r\n                }\r\n                this.resetCache();\r\n            }\r\n        }\r\n    },\r\n    makeImportant: function () {\r\n        var result = new Ruleset(this.selectors, this.rules.map(function (r) {\r\n            if (r.makeImportant) {\r\n                return r.makeImportant();\r\n            }\r\n            else {\r\n                return r;\r\n            }\r\n        }), this.strictImports, this.visibilityInfo());\r\n        return result;\r\n    },\r\n    matchArgs: function (args) {\r\n        return !args || args.length === 0;\r\n    },\r\n    // lets you call a css selector with a guard\r\n    matchCondition: function (args, context) {\r\n        var lastSelector = this.selectors[this.selectors.length - 1];\r\n        if (!lastSelector.evaldCondition) {\r\n            return false;\r\n        }\r\n        if (lastSelector.condition &&\r\n            !lastSelector.condition.eval(new contexts_1.default.Eval(context, context.frames))) {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    resetCache: function () {\r\n        this._rulesets = null;\r\n        this._variables = null;\r\n        this._properties = null;\r\n        this._lookups = {};\r\n    },\r\n    variables: function () {\r\n        if (!this._variables) {\r\n            this._variables = !this.rules ? {} : this.rules.reduce(function (hash, r) {\r\n                if (r instanceof declaration_1.default && r.variable === true) {\r\n                    hash[r.name] = r;\r\n                }\r\n                // when evaluating variables in an import statement, imports have not been eval'd\r\n                // so we need to go inside import statements.\r\n                // guard against root being a string (in the case of inlined less)\r\n                if (r.type === 'Import' && r.root && r.root.variables) {\r\n                    var vars = r.root.variables();\r\n                    for (var name_1 in vars) {\r\n                        // eslint-disable-next-line no-prototype-builtins\r\n                        if (vars.hasOwnProperty(name_1)) {\r\n                            hash[name_1] = r.root.variable(name_1);\r\n                        }\r\n                    }\r\n                }\r\n                return hash;\r\n            }, {});\r\n        }\r\n        return this._variables;\r\n    },\r\n    properties: function () {\r\n        if (!this._properties) {\r\n            this._properties = !this.rules ? {} : this.rules.reduce(function (hash, r) {\r\n                if (r instanceof declaration_1.default && r.variable !== true) {\r\n                    var name_2 = (r.name.length === 1) && (r.name[0] instanceof keyword_1.default) ?\r\n                        r.name[0].value : r.name;\r\n                    // Properties don't overwrite as they can merge\r\n                    if (!hash[\"$\".concat(name_2)]) {\r\n                        hash[\"$\".concat(name_2)] = [r];\r\n                    }\r\n                    else {\r\n                        hash[\"$\".concat(name_2)].push(r);\r\n                    }\r\n                }\r\n                return hash;\r\n            }, {});\r\n        }\r\n        return this._properties;\r\n    },\r\n    variable: function (name) {\r\n        var decl = this.variables()[name];\r\n        if (decl) {\r\n            return this.parseValue(decl);\r\n        }\r\n    },\r\n    property: function (name) {\r\n        var decl = this.properties()[name];\r\n        if (decl) {\r\n            return this.parseValue(decl);\r\n        }\r\n    },\r\n    lastDeclaration: function () {\r\n        for (var i = this.rules.length; i > 0; i--) {\r\n            var decl = this.rules[i - 1];\r\n            if (decl instanceof declaration_1.default) {\r\n                return this.parseValue(decl);\r\n            }\r\n        }\r\n    },\r\n    parseValue: function (toParse) {\r\n        var self = this;\r\n        function transformDeclaration(decl) {\r\n            if (decl.value instanceof anonymous_1.default && !decl.parsed) {\r\n                if (typeof decl.value.value === 'string') {\r\n                    new parser_1.default(this.parse.context, this.parse.importManager, decl.fileInfo(), decl.value.getIndex()).parseNode(decl.value.value, ['value', 'important'], function (err, result) {\r\n                        if (err) {\r\n                            decl.parsed = true;\r\n                        }\r\n                        if (result) {\r\n                            decl.value = result[0];\r\n                            decl.important = result[1] || '';\r\n                            decl.parsed = true;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    decl.parsed = true;\r\n                }\r\n                return decl;\r\n            }\r\n            else {\r\n                return decl;\r\n            }\r\n        }\r\n        if (!Array.isArray(toParse)) {\r\n            return transformDeclaration.call(self, toParse);\r\n        }\r\n        else {\r\n            var nodes_1 = [];\r\n            toParse.forEach(function (n) {\r\n                nodes_1.push(transformDeclaration.call(self, n));\r\n            });\r\n            return nodes_1;\r\n        }\r\n    },\r\n    rulesets: function () {\r\n        if (!this.rules) {\r\n            return [];\r\n        }\r\n        var filtRules = [];\r\n        var rules = this.rules;\r\n        var i;\r\n        var rule;\r\n        for (i = 0; (rule = rules[i]); i++) {\r\n            if (rule.isRuleset) {\r\n                filtRules.push(rule);\r\n            }\r\n        }\r\n        return filtRules;\r\n    },\r\n    prependRule: function (rule) {\r\n        var rules = this.rules;\r\n        if (rules) {\r\n            rules.unshift(rule);\r\n        }\r\n        else {\r\n            this.rules = [rule];\r\n        }\r\n        this.setParent(rule, this);\r\n    },\r\n    find: function (selector, self, filter) {\r\n        self = self || this;\r\n        var rules = [];\r\n        var match;\r\n        var foundMixins;\r\n        var key = selector.toCSS();\r\n        if (key in this._lookups) {\r\n            return this._lookups[key];\r\n        }\r\n        this.rulesets().forEach(function (rule) {\r\n            if (rule !== self) {\r\n                for (var j = 0; j < rule.selectors.length; j++) {\r\n                    match = selector.match(rule.selectors[j]);\r\n                    if (match) {\r\n                        if (selector.elements.length > match) {\r\n                            if (!filter || filter(rule)) {\r\n                                foundMixins = rule.find(new selector_1.default(selector.elements.slice(match)), self, filter);\r\n                                for (var i = 0; i < foundMixins.length; ++i) {\r\n                                    foundMixins[i].path.push(rule);\r\n                                }\r\n                                Array.prototype.push.apply(rules, foundMixins);\r\n                            }\r\n                        }\r\n                        else {\r\n                            rules.push({ rule: rule, path: [] });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this._lookups[key] = rules;\r\n        return rules;\r\n    },\r\n    genCSS: function (context, output) {\r\n        var i;\r\n        var j;\r\n        var charsetRuleNodes = [];\r\n        var ruleNodes = [];\r\n        var // Line number debugging\r\n        debugInfo;\r\n        var rule;\r\n        var path;\r\n        context.tabLevel = (context.tabLevel || 0);\r\n        if (!this.root) {\r\n            context.tabLevel++;\r\n        }\r\n        var tabRuleStr = context.compress ? '' : Array(context.tabLevel + 1).join('  ');\r\n        var tabSetStr = context.compress ? '' : Array(context.tabLevel).join('  ');\r\n        var sep;\r\n        var charsetNodeIndex = 0;\r\n        var importNodeIndex = 0;\r\n        for (i = 0; (rule = this.rules[i]); i++) {\r\n            if (rule instanceof comment_1.default) {\r\n                if (importNodeIndex === i) {\r\n                    importNodeIndex++;\r\n                }\r\n                ruleNodes.push(rule);\r\n            }\r\n            else if (rule.isCharset && rule.isCharset()) {\r\n                ruleNodes.splice(charsetNodeIndex, 0, rule);\r\n                charsetNodeIndex++;\r\n                importNodeIndex++;\r\n            }\r\n            else if (rule.type === 'Import') {\r\n                ruleNodes.splice(importNodeIndex, 0, rule);\r\n                importNodeIndex++;\r\n            }\r\n            else {\r\n                ruleNodes.push(rule);\r\n            }\r\n        }\r\n        ruleNodes = charsetRuleNodes.concat(ruleNodes);\r\n        // If this is the root node, we don't render\r\n        // a selector, or {}.\r\n        if (!this.root) {\r\n            debugInfo = (0, debug_info_1.default)(context, this, tabSetStr);\r\n            if (debugInfo) {\r\n                output.add(debugInfo);\r\n                output.add(tabSetStr);\r\n            }\r\n            var paths = this.paths;\r\n            var pathCnt = paths.length;\r\n            var pathSubCnt = void 0;\r\n            sep = context.compress ? ',' : (\",\\n\".concat(tabSetStr));\r\n            for (i = 0; i < pathCnt; i++) {\r\n                path = paths[i];\r\n                if (!(pathSubCnt = path.length)) {\r\n                    continue;\r\n                }\r\n                if (i > 0) {\r\n                    output.add(sep);\r\n                }\r\n                context.firstSelector = true;\r\n                path[0].genCSS(context, output);\r\n                context.firstSelector = false;\r\n                for (j = 1; j < pathSubCnt; j++) {\r\n                    path[j].genCSS(context, output);\r\n                }\r\n            }\r\n            output.add((context.compress ? '{' : ' {\\n') + tabRuleStr);\r\n        }\r\n        // Compile rules and rulesets\r\n        for (i = 0; (rule = ruleNodes[i]); i++) {\r\n            if (i + 1 === ruleNodes.length) {\r\n                context.lastRule = true;\r\n            }\r\n            var currentLastRule = context.lastRule;\r\n            if (rule.isRulesetLike(rule)) {\r\n                context.lastRule = false;\r\n            }\r\n            if (rule.genCSS) {\r\n                rule.genCSS(context, output);\r\n            }\r\n            else if (rule.value) {\r\n                output.add(rule.value.toString());\r\n            }\r\n            context.lastRule = currentLastRule;\r\n            if (!context.lastRule && rule.isVisible()) {\r\n                output.add(context.compress ? '' : (\"\\n\".concat(tabRuleStr)));\r\n            }\r\n            else {\r\n                context.lastRule = false;\r\n            }\r\n        }\r\n        if (!this.root) {\r\n            output.add((context.compress ? '}' : \"\\n\".concat(tabSetStr, \"}\")));\r\n            context.tabLevel--;\r\n        }\r\n        if (!output.isEmpty() && !context.compress && this.firstRoot) {\r\n            output.add('\\n');\r\n        }\r\n    },\r\n    joinSelectors: function (paths, context, selectors) {\r\n        for (var s = 0; s < selectors.length; s++) {\r\n            this.joinSelector(paths, context, selectors[s]);\r\n        }\r\n    },\r\n    joinSelector: function (paths, context, selector) {\r\n        function createParenthesis(elementsToPak, originalElement) {\r\n            var replacementParen, j;\r\n            if (elementsToPak.length === 0) {\r\n                replacementParen = new paren_1.default(elementsToPak[0]);\r\n            }\r\n            else {\r\n                var insideParent = new Array(elementsToPak.length);\r\n                for (j = 0; j < elementsToPak.length; j++) {\r\n                    insideParent[j] = new element_1.default(null, elementsToPak[j], originalElement.isVariable, originalElement._index, originalElement._fileInfo);\r\n                }\r\n                replacementParen = new paren_1.default(new selector_1.default(insideParent));\r\n            }\r\n            return replacementParen;\r\n        }\r\n        function createSelector(containedElement, originalElement) {\r\n            var element, selector;\r\n            element = new element_1.default(null, containedElement, originalElement.isVariable, originalElement._index, originalElement._fileInfo);\r\n            selector = new selector_1.default([element]);\r\n            return selector;\r\n        }\r\n        // joins selector path from `beginningPath` with selector path in `addPath`\r\n        // `replacedElement` contains element that is being replaced by `addPath`\r\n        // returns concatenated path\r\n        function addReplacementIntoPath(beginningPath, addPath, replacedElement, originalSelector) {\r\n            var newSelectorPath, lastSelector, newJoinedSelector;\r\n            // our new selector path\r\n            newSelectorPath = [];\r\n            // construct the joined selector - if & is the first thing this will be empty,\r\n            // if not newJoinedSelector will be the last set of elements in the selector\r\n            if (beginningPath.length > 0) {\r\n                newSelectorPath = utils.copyArray(beginningPath);\r\n                lastSelector = newSelectorPath.pop();\r\n                newJoinedSelector = originalSelector.createDerived(utils.copyArray(lastSelector.elements));\r\n            }\r\n            else {\r\n                newJoinedSelector = originalSelector.createDerived([]);\r\n            }\r\n            if (addPath.length > 0) {\r\n                // /deep/ is a CSS4 selector - (removed, so should deprecate)\r\n                // that is valid without anything in front of it\r\n                // so if the & does not have a combinator that is \"\" or \" \" then\r\n                // and there is a combinator on the parent, then grab that.\r\n                // this also allows + a { & .b { .a & { ... though not sure why you would want to do that\r\n                var combinator = replacedElement.combinator;\r\n                var parentEl = addPath[0].elements[0];\r\n                if (combinator.emptyOrWhitespace && !parentEl.combinator.emptyOrWhitespace) {\r\n                    combinator = parentEl.combinator;\r\n                }\r\n                // join the elements so far with the first part of the parent\r\n                newJoinedSelector.elements.push(new element_1.default(combinator, parentEl.value, replacedElement.isVariable, replacedElement._index, replacedElement._fileInfo));\r\n                newJoinedSelector.elements = newJoinedSelector.elements.concat(addPath[0].elements.slice(1));\r\n            }\r\n            // now add the joined selector - but only if it is not empty\r\n            if (newJoinedSelector.elements.length !== 0) {\r\n                newSelectorPath.push(newJoinedSelector);\r\n            }\r\n            // put together the parent selectors after the join (e.g. the rest of the parent)\r\n            if (addPath.length > 1) {\r\n                var restOfPath = addPath.slice(1);\r\n                restOfPath = restOfPath.map(function (selector) {\r\n                    return selector.createDerived(selector.elements, []);\r\n                });\r\n                newSelectorPath = newSelectorPath.concat(restOfPath);\r\n            }\r\n            return newSelectorPath;\r\n        }\r\n        // joins selector path from `beginningPath` with every selector path in `addPaths` array\r\n        // `replacedElement` contains element that is being replaced by `addPath`\r\n        // returns array with all concatenated paths\r\n        function addAllReplacementsIntoPath(beginningPath, addPaths, replacedElement, originalSelector, result) {\r\n            var j;\r\n            for (j = 0; j < beginningPath.length; j++) {\r\n                var newSelectorPath = addReplacementIntoPath(beginningPath[j], addPaths, replacedElement, originalSelector);\r\n                result.push(newSelectorPath);\r\n            }\r\n            return result;\r\n        }\r\n        function mergeElementsOnToSelectors(elements, selectors) {\r\n            var i, sel;\r\n            if (elements.length === 0) {\r\n                return;\r\n            }\r\n            if (selectors.length === 0) {\r\n                selectors.push([new selector_1.default(elements)]);\r\n                return;\r\n            }\r\n            for (i = 0; (sel = selectors[i]); i++) {\r\n                // if the previous thing in sel is a parent this needs to join on to it\r\n                if (sel.length > 0) {\r\n                    sel[sel.length - 1] = sel[sel.length - 1].createDerived(sel[sel.length - 1].elements.concat(elements));\r\n                }\r\n                else {\r\n                    sel.push(new selector_1.default(elements));\r\n                }\r\n            }\r\n        }\r\n        // replace all parent selectors inside `inSelector` by content of `context` array\r\n        // resulting selectors are returned inside `paths` array\r\n        // returns true if `inSelector` contained at least one parent selector\r\n        function replaceParentSelector(paths, context, inSelector) {\r\n            // The paths are [[Selector]]\r\n            // The first list is a list of comma separated selectors\r\n            // The inner list is a list of inheritance separated selectors\r\n            // e.g.\r\n            // .a, .b {\r\n            //   .c {\r\n            //   }\r\n            // }\r\n            // == [[.a] [.c]] [[.b] [.c]]\r\n            //\r\n            var i, j, k, currentElements, newSelectors, selectorsMultiplied, sel, el, hadParentSelector = false, length, lastSelector;\r\n            function findNestedSelector(element) {\r\n                var maybeSelector;\r\n                if (!(element.value instanceof paren_1.default)) {\r\n                    return null;\r\n                }\r\n                maybeSelector = element.value.value;\r\n                if (!(maybeSelector instanceof selector_1.default)) {\r\n                    return null;\r\n                }\r\n                return maybeSelector;\r\n            }\r\n            // the elements from the current selector so far\r\n            currentElements = [];\r\n            // the current list of new selectors to add to the path.\r\n            // We will build it up. We initiate it with one empty selector as we \"multiply\" the new selectors\r\n            // by the parents\r\n            newSelectors = [\r\n                []\r\n            ];\r\n            for (i = 0; (el = inSelector.elements[i]); i++) {\r\n                // non parent reference elements just get added\r\n                if (el.value !== '&') {\r\n                    var nestedSelector = findNestedSelector(el);\r\n                    if (nestedSelector !== null) {\r\n                        // merge the current list of non parent selector elements\r\n                        // on to the current list of selectors to add\r\n                        mergeElementsOnToSelectors(currentElements, newSelectors);\r\n                        var nestedPaths = [];\r\n                        var replaced = void 0;\r\n                        var replacedNewSelectors = [];\r\n                        replaced = replaceParentSelector(nestedPaths, context, nestedSelector);\r\n                        hadParentSelector = hadParentSelector || replaced;\r\n                        // the nestedPaths array should have only one member - replaceParentSelector does not multiply selectors\r\n                        for (k = 0; k < nestedPaths.length; k++) {\r\n                            var replacementSelector = createSelector(createParenthesis(nestedPaths[k], el), el);\r\n                            addAllReplacementsIntoPath(newSelectors, [replacementSelector], el, inSelector, replacedNewSelectors);\r\n                        }\r\n                        newSelectors = replacedNewSelectors;\r\n                        currentElements = [];\r\n                    }\r\n                    else {\r\n                        currentElements.push(el);\r\n                    }\r\n                }\r\n                else {\r\n                    hadParentSelector = true;\r\n                    // the new list of selectors to add\r\n                    selectorsMultiplied = [];\r\n                    // merge the current list of non parent selector elements\r\n                    // on to the current list of selectors to add\r\n                    mergeElementsOnToSelectors(currentElements, newSelectors);\r\n                    // loop through our current selectors\r\n                    for (j = 0; j < newSelectors.length; j++) {\r\n                        sel = newSelectors[j];\r\n                        // if we don't have any parent paths, the & might be in a mixin so that it can be used\r\n                        // whether there are parents or not\r\n                        if (context.length === 0) {\r\n                            // the combinator used on el should now be applied to the next element instead so that\r\n                            // it is not lost\r\n                            if (sel.length > 0) {\r\n                                sel[0].elements.push(new element_1.default(el.combinator, '', el.isVariable, el._index, el._fileInfo));\r\n                            }\r\n                            selectorsMultiplied.push(sel);\r\n                        }\r\n                        else {\r\n                            // and the parent selectors\r\n                            for (k = 0; k < context.length; k++) {\r\n                                // We need to put the current selectors\r\n                                // then join the last selector's elements on to the parents selectors\r\n                                var newSelectorPath = addReplacementIntoPath(sel, context[k], el, inSelector);\r\n                                // add that to our new set of selectors\r\n                                selectorsMultiplied.push(newSelectorPath);\r\n                            }\r\n                        }\r\n                    }\r\n                    // our new selectors has been multiplied, so reset the state\r\n                    newSelectors = selectorsMultiplied;\r\n                    currentElements = [];\r\n                }\r\n            }\r\n            // if we have any elements left over (e.g. .a& .b == .b)\r\n            // add them on to all the current selectors\r\n            mergeElementsOnToSelectors(currentElements, newSelectors);\r\n            for (i = 0; i < newSelectors.length; i++) {\r\n                length = newSelectors[i].length;\r\n                if (length > 0) {\r\n                    paths.push(newSelectors[i]);\r\n                    lastSelector = newSelectors[i][length - 1];\r\n                    newSelectors[i][length - 1] = lastSelector.createDerived(lastSelector.elements, inSelector.extendList);\r\n                }\r\n            }\r\n            return hadParentSelector;\r\n        }\r\n        function deriveSelector(visibilityInfo, deriveFrom) {\r\n            var newSelector = deriveFrom.createDerived(deriveFrom.elements, deriveFrom.extendList, deriveFrom.evaldCondition);\r\n            newSelector.copyVisibilityInfo(visibilityInfo);\r\n            return newSelector;\r\n        }\r\n        // joinSelector code follows\r\n        var i, newPaths, hadParentSelector;\r\n        newPaths = [];\r\n        hadParentSelector = replaceParentSelector(newPaths, context, selector);\r\n        if (!hadParentSelector) {\r\n            if (context.length > 0) {\r\n                newPaths = [];\r\n                for (i = 0; i < context.length; i++) {\r\n                    var concatenated = context[i].map(deriveSelector.bind(this, selector.visibilityInfo()));\r\n                    concatenated.push(selector);\r\n                    newPaths.push(concatenated);\r\n                }\r\n            }\r\n            else {\r\n                newPaths = [[selector]];\r\n            }\r\n        }\r\n        for (i = 0; i < newPaths.length; i++) {\r\n            paths.push(newPaths[i]);\r\n        }\r\n    }\r\n});\r\nexports.default = Ruleset;\r\n//# sourceMappingURL=ruleset.js.map"]}