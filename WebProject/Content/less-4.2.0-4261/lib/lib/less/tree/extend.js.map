{"version":3,"file":"extend.js","sourceRoot":"","sources":["../../../less/tree/extend.js"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar node_1 = tslib_1.__importDefault(require(\"./node\"));\r\nvar selector_1 = tslib_1.__importDefault(require(\"./selector\"));\r\nvar Extend = function (selector, option, index, currentFileInfo, visibilityInfo) {\r\n    this.selector = selector;\r\n    this.option = option;\r\n    this.object_id = Extend.next_id++;\r\n    this.parent_ids = [this.object_id];\r\n    this._index = index;\r\n    this._fileInfo = currentFileInfo;\r\n    this.copyVisibilityInfo(visibilityInfo);\r\n    this.allowRoot = true;\r\n    switch (option) {\r\n        case 'all':\r\n            this.allowBefore = true;\r\n            this.allowAfter = true;\r\n            break;\r\n        default:\r\n            this.allowBefore = false;\r\n            this.allowAfter = false;\r\n            break;\r\n    }\r\n    this.setParent(this.selector, this);\r\n};\r\nExtend.prototype = Object.assign(new node_1.default(), {\r\n    type: 'Extend',\r\n    accept: function (visitor) {\r\n        this.selector = visitor.visit(this.selector);\r\n    },\r\n    eval: function (context) {\r\n        return new Extend(this.selector.eval(context), this.option, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n    },\r\n    // remove when Nodes have JSDoc types\r\n    // eslint-disable-next-line no-unused-vars\r\n    clone: function (context) {\r\n        return new Extend(this.selector, this.option, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n    },\r\n    // it concatenates (joins) all selectors in selector array\r\n    findSelfSelectors: function (selectors) {\r\n        var selfElements = [], i, selectorElements;\r\n        for (i = 0; i < selectors.length; i++) {\r\n            selectorElements = selectors[i].elements;\r\n            // duplicate the logic in genCSS function inside the selector node.\r\n            // future TODO - move both logics into the selector joiner visitor\r\n            if (i > 0 && selectorElements.length && selectorElements[0].combinator.value === '') {\r\n                selectorElements[0].combinator.value = ' ';\r\n            }\r\n            selfElements = selfElements.concat(selectors[i].elements);\r\n        }\r\n        this.selfSelectors = [new selector_1.default(selfElements)];\r\n        this.selfSelectors[0].copyVisibilityInfo(this.visibilityInfo());\r\n    }\r\n});\r\nExtend.next_id = 0;\r\nexports.default = Extend;\r\n//# sourceMappingURL=extend.js.map"]}