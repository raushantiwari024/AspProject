{"version":3,"file":"condition.js","sourceRoot":"","sources":["../../../less/tree/condition.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9D,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC/B,IAAI,MAAM,GAAG,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;AACxD,IAAI,SAAS,GAAG,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM;IACzC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;IACpB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;IAChB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;IAChB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;IAChB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,CAAC,CAAC;AACF,SAAS,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,OAAO,EAAE,EAAE;IACtD,IAAI,EAAE,WAAW;IACjB,MAAM,EAAE,UAAU,OAAO;QACrB,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IACD,IAAI,EAAE,UAAU,OAAO;QACnB,IAAI,MAAM,GAAG,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC;YAC5B,QAAQ,EAAE,EAAE,CAAC;gBACT,KAAK,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC1B,KAAK,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACzB;oBACI,QAAQ,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;wBACnC,KAAK,CAAC,CAAC;4BACH,OAAO,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,KAAK,IAAI,CAAC;wBACpD,KAAK,CAAC;4BACF,OAAO,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,KAAK,IAAI,CAAC;wBACnE,KAAK,CAAC;4BACF,OAAO,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,IAAI,CAAC;wBACrC;4BACI,OAAO,KAAK,CAAC;oBACrB,CAAC;YACT,CAAC;QACL,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QAClE,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;IAC1C,CAAC;CACJ,CAAC,CAAC;AACH,OAAO,CAAC,OAAO,GAAG,SAAS,CAAC","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar node_1 = tslib_1.__importDefault(require(\"./node\"));\r\nvar Condition = function (op, l, r, i, negate) {\r\n    this.op = op.trim();\r\n    this.lvalue = l;\r\n    this.rvalue = r;\r\n    this._index = i;\r\n    this.negate = negate;\r\n};\r\nCondition.prototype = Object.assign(new node_1.default(), {\r\n    type: 'Condition',\r\n    accept: function (visitor) {\r\n        this.lvalue = visitor.visit(this.lvalue);\r\n        this.rvalue = visitor.visit(this.rvalue);\r\n    },\r\n    eval: function (context) {\r\n        var result = (function (op, a, b) {\r\n            switch (op) {\r\n                case 'and': return a && b;\r\n                case 'or': return a || b;\r\n                default:\r\n                    switch (node_1.default.compare(a, b)) {\r\n                        case -1:\r\n                            return op === '<' || op === '=<' || op === '<=';\r\n                        case 0:\r\n                            return op === '=' || op === '>=' || op === '=<' || op === '<=';\r\n                        case 1:\r\n                            return op === '>' || op === '>=';\r\n                        default:\r\n                            return false;\r\n                    }\r\n            }\r\n        })(this.op, this.lvalue.eval(context), this.rvalue.eval(context));\r\n        return this.negate ? !result : result;\r\n    }\r\n});\r\nexports.default = Condition;\r\n//# sourceMappingURL=condition.js.map"]}