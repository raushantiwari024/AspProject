{"version":3,"file":"list.js","sourceRoot":"","sources":["../../../less/functions/list.js"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar comment_1 = tslib_1.__importDefault(require(\"../tree/comment\"));\r\nvar node_1 = tslib_1.__importDefault(require(\"../tree/node\"));\r\nvar dimension_1 = tslib_1.__importDefault(require(\"../tree/dimension\"));\r\nvar declaration_1 = tslib_1.__importDefault(require(\"../tree/declaration\"));\r\nvar expression_1 = tslib_1.__importDefault(require(\"../tree/expression\"));\r\nvar ruleset_1 = tslib_1.__importDefault(require(\"../tree/ruleset\"));\r\nvar selector_1 = tslib_1.__importDefault(require(\"../tree/selector\"));\r\nvar element_1 = tslib_1.__importDefault(require(\"../tree/element\"));\r\nvar quoted_1 = tslib_1.__importDefault(require(\"../tree/quoted\"));\r\nvar value_1 = tslib_1.__importDefault(require(\"../tree/value\"));\r\nvar getItemsFromNode = function (node) {\r\n    // handle non-array values as an array of length 1\r\n    // return 'undefined' if index is invalid\r\n    var items = Array.isArray(node.value) ?\r\n        node.value : Array(node);\r\n    return items;\r\n};\r\nexports.default = {\r\n    _SELF: function (n) {\r\n        return n;\r\n    },\r\n    '~': function () {\r\n        var expr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            expr[_i] = arguments[_i];\r\n        }\r\n        if (expr.length === 1) {\r\n            return expr[0];\r\n        }\r\n        return new value_1.default(expr);\r\n    },\r\n    extract: function (values, index) {\r\n        // (1-based index)\r\n        index = index.value - 1;\r\n        return getItemsFromNode(values)[index];\r\n    },\r\n    length: function (values) {\r\n        return new dimension_1.default(getItemsFromNode(values).length);\r\n    },\r\n    /**\r\n     * Creates a Less list of incremental values.\r\n     * Modeled after Lodash's range function, also exists natively in PHP\r\n     *\r\n     * @param {Dimension} [start=1]\r\n     * @param {Dimension} end  - e.g. 10 or 10px - unit is added to output\r\n     * @param {Dimension} [step=1]\r\n     */\r\n    range: function (start, end, step) {\r\n        var from;\r\n        var to;\r\n        var stepValue = 1;\r\n        var list = [];\r\n        if (end) {\r\n            to = end;\r\n            from = start.value;\r\n            if (step) {\r\n                stepValue = step.value;\r\n            }\r\n        }\r\n        else {\r\n            from = 1;\r\n            to = start;\r\n        }\r\n        for (var i = from; i <= to.value; i += stepValue) {\r\n            list.push(new dimension_1.default(i, to.unit));\r\n        }\r\n        return new expression_1.default(list);\r\n    },\r\n    each: function (list, rs) {\r\n        var _this = this;\r\n        var rules = [];\r\n        var newRules;\r\n        var iterator;\r\n        var tryEval = function (val) {\r\n            if (val instanceof node_1.default) {\r\n                return val.eval(_this.context);\r\n            }\r\n            return val;\r\n        };\r\n        if (list.value && !(list instanceof quoted_1.default)) {\r\n            if (Array.isArray(list.value)) {\r\n                iterator = list.value.map(tryEval);\r\n            }\r\n            else {\r\n                iterator = [tryEval(list.value)];\r\n            }\r\n        }\r\n        else if (list.ruleset) {\r\n            iterator = tryEval(list.ruleset).rules;\r\n        }\r\n        else if (list.rules) {\r\n            iterator = list.rules.map(tryEval);\r\n        }\r\n        else if (Array.isArray(list)) {\r\n            iterator = list.map(tryEval);\r\n        }\r\n        else {\r\n            iterator = [tryEval(list)];\r\n        }\r\n        var valueName = '@value';\r\n        var keyName = '@key';\r\n        var indexName = '@index';\r\n        if (rs.params) {\r\n            valueName = rs.params[0] && rs.params[0].name;\r\n            keyName = rs.params[1] && rs.params[1].name;\r\n            indexName = rs.params[2] && rs.params[2].name;\r\n            rs = rs.rules;\r\n        }\r\n        else {\r\n            rs = rs.ruleset;\r\n        }\r\n        for (var i = 0; i < iterator.length; i++) {\r\n            var key = void 0;\r\n            var value = void 0;\r\n            var item = iterator[i];\r\n            if (item instanceof declaration_1.default) {\r\n                key = typeof item.name === 'string' ? item.name : item.name[0].value;\r\n                value = item.value;\r\n            }\r\n            else {\r\n                key = new dimension_1.default(i + 1);\r\n                value = item;\r\n            }\r\n            if (item instanceof comment_1.default) {\r\n                continue;\r\n            }\r\n            newRules = rs.rules.slice(0);\r\n            if (valueName) {\r\n                newRules.push(new declaration_1.default(valueName, value, false, false, this.index, this.currentFileInfo));\r\n            }\r\n            if (indexName) {\r\n                newRules.push(new declaration_1.default(indexName, new dimension_1.default(i + 1), false, false, this.index, this.currentFileInfo));\r\n            }\r\n            if (keyName) {\r\n                newRules.push(new declaration_1.default(keyName, key, false, false, this.index, this.currentFileInfo));\r\n            }\r\n            rules.push(new ruleset_1.default([new (selector_1.default)([new element_1.default('', '&')])], newRules, rs.strictImports, rs.visibilityInfo()));\r\n        }\r\n        return new ruleset_1.default([new (selector_1.default)([new element_1.default('', '&')])], rules, rs.strictImports, rs.visibilityInfo()).eval(this.context);\r\n    }\r\n};\r\n//# sourceMappingURL=list.js.map"]}