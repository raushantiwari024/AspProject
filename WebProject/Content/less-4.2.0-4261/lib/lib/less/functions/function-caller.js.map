{"version":3,"file":"function-caller.js","sourceRoot":"","sources":["../../../less/functions/function-caller.js"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar expression_1 = tslib_1.__importDefault(require(\"../tree/expression\"));\r\nvar functionCaller = /** @class */ (function () {\r\n    function functionCaller(name, context, index, currentFileInfo) {\r\n        this.name = name.toLowerCase();\r\n        this.index = index;\r\n        this.context = context;\r\n        this.currentFileInfo = currentFileInfo;\r\n        this.func = context.frames[0].functionRegistry.get(this.name);\r\n    }\r\n    functionCaller.prototype.isValid = function () {\r\n        return Boolean(this.func);\r\n    };\r\n    functionCaller.prototype.call = function (args) {\r\n        var _this = this;\r\n        if (!(Array.isArray(args))) {\r\n            args = [args];\r\n        }\r\n        var evalArgs = this.func.evalArgs;\r\n        if (evalArgs !== false) {\r\n            args = args.map(function (a) { return a.eval(_this.context); });\r\n        }\r\n        var commentFilter = function (item) { return !(item.type === 'Comment'); };\r\n        // This code is terrible and should be replaced as per this issue...\r\n        // https://github.com/less/less.js/issues/2477\r\n        args = args\r\n            .filter(commentFilter)\r\n            .map(function (item) {\r\n            if (item.type === 'Expression') {\r\n                var subNodes = item.value.filter(commentFilter);\r\n                if (subNodes.length === 1) {\r\n                    // https://github.com/less/less.js/issues/3616\r\n                    if (item.parens && subNodes[0].op === '/') {\r\n                        return item;\r\n                    }\r\n                    return subNodes[0];\r\n                }\r\n                else {\r\n                    return new expression_1.default(subNodes);\r\n                }\r\n            }\r\n            return item;\r\n        });\r\n        if (evalArgs === false) {\r\n            return this.func.apply(this, tslib_1.__spreadArray([this.context], args, false));\r\n        }\r\n        return this.func.apply(this, args);\r\n    };\r\n    return functionCaller;\r\n}());\r\nexports.default = functionCaller;\r\n//# sourceMappingURL=function-caller.js.map"]}