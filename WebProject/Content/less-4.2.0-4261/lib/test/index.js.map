{"version":3,"file":"index.js","sourceRoot":"","sources":["../../test/index.js"],"names":[],"mappings":"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","sourcesContent":["var lessTest = require('./less-test'),\n    lessTester = lessTest(),\n    path = require('path'),\n    stylize = require('../lib/less-node/lessc-helper').stylize,\n    nock = require('nock');\n\nconsole.log('\\n' + stylize('Less', 'underline') + '\\n');\n\nvar testMap = [\n    [{\n        // TODO: Change this to rewriteUrls: 'all' once the relativeUrls option is removed\n        relativeUrls: true,\n        silent: true,\n        javascriptEnabled: true\n    }, '_main/'],\n    [{}, 'namespacing/'],\n    [{\n        math: 'parens'\n    }, 'math/strict/'],\n    [{\n        math: 'parens-division'\n    }, 'math/parens-division/'],\n    [{\n        math: 'always'\n    }, 'math/always/'],\n    // Use legacy strictMath: true here to demonstrate it still works\n    [{strictMath: true, strictUnits: true, javascriptEnabled: true}, '../errors/eval/',\n        lessTester.testErrors, null],\n    [{strictMath: true, strictUnits: true, javascriptEnabled: true}, '../errors/parse/',\n        lessTester.testErrors, null],\n    [{math: 'strict', strictUnits: true, javascriptEnabled: true}, 'js-type-errors/',\n        lessTester.testTypeErrors, null],\n    [{math: 'strict', strictUnits: true, javascriptEnabled: false}, 'no-js-errors/',\n        lessTester.testErrors, null],\n    [{math: 'strict', dumpLineNumbers: 'comments'}, 'debug/', null,\n        function(name) { return name + '-comments'; }],\n    [{math: 'strict', dumpLineNumbers: 'mediaquery'}, 'debug/', null,\n        function(name) { return name + '-mediaquery'; }],\n    [{math: 'strict', dumpLineNumbers: 'all'}, 'debug/', null,\n        function(name) { return name + '-all'; }],\n    // TODO: Change this to rewriteUrls: false once the relativeUrls option is removed\n    [{math: 'strict', relativeUrls: false, rootpath: 'folder (1)/'}, 'static-urls/'],\n    [{math: 'strict', compress: true}, 'compression/'],\n\n    [{math: 0, strictUnits: true}, 'units/strict/'],\n    [{math: 0, strictUnits: false}, 'units/no-strict/'],\n\n    [{math: 'strict', strictUnits: true, sourceMap: true, globalVars: true }, 'sourcemaps/',\n        lessTester.testSourcemap, null, null,\n        function(filename, type, baseFolder) {\n            if (type === 'vars') {\n                return path.join(baseFolder, filename) + '.json';\n            }\n            return path.join('test/sourcemaps', filename) + '.json';\n        }],\n\n    [{math: 'strict', strictUnits: true, globalVars: true }, '_main/import/json/',\n        lessTester.testImports, null, true,\n        function(filename, type, baseFolder) {\n            return path.join(baseFolder, filename) + '.json';\n        }],\n    [{math: 'strict', strictUnits: true, sourceMap: {sourceMapFileInline: true}},\n        'sourcemaps-empty/', lessTester.testEmptySourcemap],\n    [{math: 'strict', strictUnits: true, sourceMap: {disableSourcemapAnnotation: true}},\n        'sourcemaps-disable-annotation/', lessTester.testSourcemapWithoutUrlAnnotation],\n    [{math: 'strict', strictUnits: true, sourceMap: true},\n        'sourcemaps-variable-selector/', lessTester.testSourcemapWithVariableInSelector],\n    [{globalVars: true, banner: '/**\\n  * Test\\n  */\\n'}, 'globalVars/',\n        null, null, null, function(name, type, baseFolder) { return path.join(baseFolder, name) + '.json'; }],\n    [{modifyVars: true}, 'modifyVars/',\n        null, null, null, function(name, type, baseFolder) { return path.join(baseFolder, name) + '.json'; }],\n    [{urlArgs: '424242'}, 'url-args/'],\n    [{rewriteUrls: 'all'}, 'rewrite-urls-all/'],\n    [{rewriteUrls: 'local'}, 'rewrite-urls-local/'],\n    [{rootpath: 'http://example.com/assets/css/', rewriteUrls: 'all'}, 'rootpath-rewrite-urls-all/'],\n    [{rootpath: 'http://example.com/assets/css/', rewriteUrls: 'local'}, 'rootpath-rewrite-urls-local/'],\n    [{paths: ['data/', '_main/import/']}, 'include-path/'],\n    [{paths: 'data/'}, 'include-path-string/'],\n    [{plugin: 'test/plugins/postprocess/'}, 'postProcessorPlugin/'],\n    [{plugin: 'test/plugins/preprocess/'}, 'preProcessorPlugin/'],\n    [{plugin: 'test/plugins/visitor/'}, 'visitorPlugin/'],\n    [{plugin: 'test/plugins/filemanager/'}, 'filemanagerPlugin/'],\n    [{math: 0}, '3rd-party/'],\n    [{ processImports: false }, 'process-imports/']\n];\ntestMap.forEach(function(args) {\n    lessTester.runTestSet.apply(lessTester, args)\n});\nlessTester.testSyncronous({syncImport: true}, '_main/import');\nlessTester.testSyncronous({syncImport: true}, '_main/plugin');\nlessTester.testSyncronous({syncImport: true}, 'math/strict/css');\nlessTester.testNoOptions();\nlessTester.testDisablePluginRule();\nlessTester.testJSImport();\nlessTester.finished();\n\n(() => {\n    // Create new tester, since tests are not independent and tests\n    // above modify tester in a way that breaks remote imports.\n    lessTester = lessTest();\n    var scope = nock('https://example.com')\n        .get('/redirect.less').query(true)\n        .reply(301, null, { location: '/target.less' })\n        .get('/target.less').query(true)\n        .reply(200);\n    lessTester.runTestSet(\n        {},\n        'import-redirect/',\n        lessTester.testImportRedirect(scope)\n    );\n    lessTester.finished();\n})();\n"]}